@Library('mpl') _

/**
 * Ozkan Development Pipeline
 *
 * This Jenkinsfile uses the OzkanDevPipeline shared library
 * to deploy to the development environment.
 */

OzkanDevPipeline {
    // Maven Configuration
    maven.tool_version = 'Maven 3'
    maven.settings_path = ''  // Optional: path to settings.xml

    // Deployment Configuration
    deploy.dev_host = 'dev.ozkan.local'
    deploy.dev_port = '8080'

    // SSH Deployment (if enabled)
    deploy.ssh_enabled = false
    deploy.ssh_user = 'deploy'
    deploy.path = '/opt/ozkan-dev'

    // Commands for controlling the application
    // deploy.stop_command = 'ssh deploy@dev.ozkan.local "systemctl stop ozkan-dev"'
    // deploy.start_command = 'ssh deploy@dev.ozkan.local "systemctl start ozkan-dev"'

    // Smoke Test Configuration
    smoketest.endpoints = ['/health', '/api/status', '/api/info']
    smoketest.max_retries = 10
    smoketest.retry_delay = 5  // seconds

    // Validation Configuration
    validation.check_logs = false

    // Test Configuration
    test.integration_enabled = false
}
